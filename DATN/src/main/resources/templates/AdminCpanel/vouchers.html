<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <title>Furniture E-Commerce</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <link rel="shortcut icon" type="image/png" href="../assets/images/logos/Logo1.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/styles.min.css" />
  <!-- Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <!-- Bootstrap Datepicker CSS -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">

  <!-- Bootstrap Datepicker JS -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
  <style>
    body {
      background-color: #f8f9fa;
      color: #000;
      font-family: Arial, sans-serif;
    }

    .container {
      margin-top: 50px;
    }

    .form-control {
      margin-bottom: 10px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }

    th,
    td {
      border: 1px solid #000;
      text-align: left;
      padding: 8px;
    }

    th {
      background-color: #e9ecef;
    }

    .d-flex>form {
      margin-right: 10px;
    }
  </style>
</head>

<body>
  <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
    data-sidebar-position="fixed" data-header-position="fixed">
    <!-- Sidebar Start -->
    <aside class="left-sidebar">
      <!-- Sidebar scroll-->
      <div>

        <!-- Sidebar navigation-->
        <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
          <ul id="sidebarnav">
            <li class="nav-small-cap">
              <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
              <span class="hide-menu">Home</span>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" th:href="@{/}" aria-expanded="false">
                <span>
                  <i class="ti ti-layout-dashboard"></i>
                </span>
                <span class="hide-menu">Trang chủ</span>
              </a>
            </li>
            <li class="nav-small-cap">
              <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
              <span class="hide-menu">Quản Lí </span>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/products}" aria-expanded="false">
                <span>
                  <i class="ti ti-article"></i>
                </span>
                <span class="hide-menu">Sản Phẩm</span>
              </a>
            </li>
            <li th:if="${#authorization.expression('hasRole(''ADMIN'')')}" class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/accounts}" aria-expanded="false">
                <span>
                  <i class="ti ti-user"></i>
                </span>
                <span class="hide-menu">Tài Khoản</span>
              </a>
            </li>
            <li th:if="${#authorization.expression('hasRole(''ADMIN'')')}" class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/revenue-chart}" aria-expanded="false">
                <span>
                  <i class="ti ti-cards"></i>
                </span>
                <span class="hide-menu">Doanh Thu</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/feedback}" aria-expanded="false">
                <span>
                  <i class="ti ti-file-description"></i>
                </span>
                <span class="hide-menu">Feedback</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/orders}" aria-expanded="false">
                <span>
                  <i class="ti ti-shopping-cart"></i>
                </span>
                <span class="hide-menu">Đơn Hàng</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/vouchers}" aria-expanded="false">
                <span>
                  <i class="ti ti-ticket"></i>
                </span>
                <span class="hide-menu">Mã giảm giá</span>
              </a>
            </li>
            <li th:if="${#authorization.expression('hasRole(''ADMIN'')')}" class="sidebar-item">
              <a class="sidebar-link" th:href="@{/admin/history}" aria-expanded="false">
                <span>
                  <i class="ti ti-typography"></i>
                </span>
                <span class="hide-menu">Lịch sử nhập hàng</span>
              </a>
            </li>

          </ul>

        </nav>
        <!-- End Sidebar navigation -->
      </div>
      <!-- End Sidebar scroll-->
    </aside>
    <!--  Sidebar End -->
    <!--  Main wrapper -->
    <div class="body-wrapper">
      <!--  Header Start -->
      <!-- <header class="app-header">
    <nav class="navbar navbar-expand-lg navbar-light">
      <ul class="navbar-nav">
        <li class="nav-item d-block d-xl-none">
          <a class="nav-link sidebartoggler nav-icon-hover" id="headerCollapse" href="javascript:void(0)">
            <i class="ti ti-menu-2"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link nav-icon-hover" href="javascript:void(0)">
            <i class="ti ti-bell-ringing"></i>
            <div class="notification bg-primary rounded-circle"></div>
          </a>
        </li>
      </ul>
      <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
        <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
          <li class="nav-item dropdown">
            <a class="nav-link nav-icon-hover" href="javascript:void(0)" id="drop2" data-bs-toggle="dropdown"
              aria-expanded="false">
              <img src="../assets/images/profile/user-1.jpg" alt="" width="35" height="35" class="rounded-circle">
            </a>
            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up" aria-labelledby="drop2">
              <div class="message-body">
                
                <a href="../security/login.html" class="btn btn-outline-primary mx-3 mt-2 d-block">Logout</a>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </nav>
  </header> -->
      <!--  Header End -->

      <div class="container">
        <!-- Your existing content -->

        <!-- Nút về trang admin products -->
        <!-- <a th:href="@{/admin/products}" class="btn btn-secondary mt-3">Danh sách sản phẩm</a> -->
      </div>

      <div class="container">
        <h1>Mã giảm</h1>
        <form method="post" action="/admin/vouchers">
          <div class="form-group">
            <label for="voucherCode">Mã Voucher:</label>
            <input type="text" name="voucherCode" id="voucherCode" class=" form-control">
          </div>
          <div class="form-group">
            <label for="discountAmount">Giảm tiền (đơn vị VND):</label>
            <input type="number" name="discountAmount" id="discountAmount" class="form-control"
              placeholder="Ví dụ: 50000">
          </div>
          <div class="form-group">
            <label for="startDate">Ngày bắt đầu:</label>
            <input type="text" name="startDate" id="startDate" class="datepicker form-control">
          </div>
          <div class="form-group">
            <label for="endDate">Ngày kết thúc:</label>
            <input type="text" name="endDate" id="endDate" class="datepicker form-control">
          </div>
          <div class="form-group">
            <label for="quantity">Số lượng mã:</label>
            <input type="number" name="quantity" id="quantity" class="form-control" min="1">
          </div>
          <button type="submit" class="btn btn-primary">Thêm Mã </button>
        </form>

        <h2>Danh sách Mã giảm</h2>
        <table>
          <thead>
            <tr>
              <th>Mã Voucher</th>
              <th>Giảm tiền</th>
              <th>Ngày bắt đầu</th>
              <th>Ngày kết thúc</th>
              <th>Số lượng</th>
              <th>Thao tác</th>
            </tr>
          </thead>
          <tbody>
            <!-- Loop through your voucher list to display the vouchers -->
            <tr th:each="voucher : ${vouchers}">
              <td th:text="${voucher.voucherCode}"></td>
              <td th:text="${voucher.discountAmount}"></td>
              <td th:text="${voucher.startDate}"></td>
              <td th:text="${voucher.endDate}"></td>
              <td th:text="${voucher.quantity}"></td>

              <td>
                <div class="d-flex align-items-center px-3 ">
                  <form th:action="@{/admin/vouchers/delete}" method="post">
                    <input type="hidden" th:name="voucherId" th:value="${voucher.voucherId}">
                    <button type="submit" class="btn btn-danger">Xóa mã</button>
                  </form>

                  <button type="button" class="btn btn-warning" data-bs-toggle="modal"
                    th:data-bs-target="'#exampleModal2-' + ${voucher.voucherId}" data-bs-whatever="@mdo">Sửa mã</button>
                </div>
              </td>





              <div class="modal fade" th:id="'exampleModal2-' + ${voucher.voucherId}" tabindex="-1"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                  <div class="modal-content">
                    <div class="modal-header bg-warning text-white">
                      <h5 class="modal-title" id="exampleModalLabel">CHỈNH SỬA</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form th:action="@{'/admin/vouchers/edit/' + ${voucher.voucherId}}" method="post"
                        enctype="multipart/form-data" class="row g-3">
                        <div class="col-md-6">
                          <input type="hidden" id="productId" name="voucherId" th:value="${voucher.voucherId}">
                          <label for="name" class="form-label">Mã Voucher:</label>
                          <input id="name" name="voucherCode" class="form-control" style="font-size: 13px;" type="text"
                            th:value="${voucher.voucherCode}" required>
                        </div>
                        <div class="col-md-6">
                          <label for="price" class="form-label">Giảm tiền (đơn vị VND):</label>
                          <input class="form-control" type="text" style="font-size: 13px;" id="price"
                            name="discountAmount" th:value="${voucher.discountAmount}" required>
                        </div>
                        <div class="col-md-6">
                          <label for="purchasePrice" class="form-label">Ngày bắt đầu:</label>
                          <input class="form-control" type="text" style="font-size: 13px;" id="purchasePrice"
                            name="startDate" th:value="${voucher.startDate}" required>
                        </div>
                        <div class="col-md-6">
                          <label for="description" class="form-label">Ngày kết thúc:</label>
                          <input class="form-control" type="text" style="font-size: 13px;" id="description"
                            name="endDate" th:value="${voucher.endDate}" required>
                        </div>
                        <div class="col-md-6">
                          <label for="description" class="form-label">Số lượng mã:</label>
                          <input class="form-control" type="text" style="font-size: 13px;" id="description"
                            name="quantity" th:value="${voucher.quantity}" required>
                        </div>

                        <div class="col-12 text-center">
                          <button type="submit" class="btn btn-success text-white">Cập nhật</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>



            </tr>
            <!-- End of Loop -->
          </tbody>
        </table>
      </div>



      <script>
        // Activate datepicker for inputs with class 'datepicker'
        $('.datepicker').datepicker({
          format: 'yyyy-mm-dd',
          autoclose: true
        });
      </script>
</body>

<script src="../assets/libs/jquery/dist/jquery.min.js"></script>
<script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/sidebarmenu.js"></script>
<script src="../assets/js/app.min.js"></script>
<script src="../assets/libs/simplebar/dist/simplebar.js"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

</html>

</html>